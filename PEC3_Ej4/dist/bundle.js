(()=>{"use strict";var t={859:function(t,e,o){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=s(o(404)),d=s(o(782)),r=new i.default,n=new d.default(r);(()=>{const t=r.getTodoList();n.displayTodos(t)})()},404:function(t,e,o){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=s(o(572));e.default=class{constructor(){this._todoList=new i.default}getTodoList(){return this._todoList.todos}addTodo(t){this._todoList.addTodo(t)}deleteTodo(t){this._todoList.deleteTodo(t)}editTodo(t,e){this._todoList.editTodo(t,e)}clearTodo(){this._todoList.clearTodos()}saveTodo(){this._todoList._commit()}toggleTodoChange(t){this._todoList.toggleTodo(t)}}},524:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{constructor(t,e,o){this.complete=!1,this.id=t||this.uuidv4(),this.text=e,this.complete=o}uuidv4(){return Math.floor(1e8*Math.random()).toString(16)}}},572:function(t,e,o){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=s(o(524));e.default=class{constructor(){this._todos=[];const t=localStorage.getItem("todos");t&&JSON.parse(t).forEach((t=>{const e=new i.default(t.id,t.text,t.complete);this.addTodo(e)}))}get todos(){return this._todos}_commit(){localStorage.setItem("todos",JSON.stringify(this._todos))}clearTodos(){this._todos=[],localStorage.removeItem("todos")}addTodo(t){this._todos.push(t),this._commit()}editTodo(t,e){if(""===e.trim())return;const o=this._todos.find((e=>e.id===t));o&&(o.text=e,this._commit())}deleteTodo(t){this._todos=this.todos.filter((({id:e})=>e!==t)),this._commit()}toggleTodo(t){const e=this._todos.find((e=>e.id===t));e&&(e.complete=!e.complete,this._commit())}}},782:function(t,e,o){var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const i=s(o(524));e.default=class{constructor(t){if(this._temporaryTodoText="",this.todoListController=t,this.app=this.getElement("#root"),this.form=this.createElement("form"),this.input=this.createInput("Añadir Tarea","todo","todo","input"),this.input.name="todo",this.submitButton=this.createButton("Añadir","btnAdd"),this.form.append(this.input,this.submitButton),this.title=this.createElement("h1","titleID"),this.title.textContent="Lista Tareas",this.todoList=this.createElement("ul","todo-list"),this.app.append(this.title,this.form,this.todoList),this._initLocalListeners(),!this.todoList)throw new Error("Error- No se ha podido encontrar el elemento ul en el html.")}get _todoText(){return this.input.value}getElement(t){return document.querySelector(t)}createElement(t,e="",o=""){const s=document.createElement(t);return o&&s.classList.add(o),e&&(s.id=e),s}createInput(t,e="",o="",s=""){const i=document.createElement("input");return o&&i.classList.add(o),e&&(i.id=e),s&&(i.type=s),i.placeholder=t,i}createButton(t,e="",o=""){const s=document.createElement("button");return o&&s.classList.add(o),e&&(s.id=e),s.textContent=t,s}createSpan(t,e){const o=document.createElement("span");return t&&o.classList.add(t),o.contentEditable=e,o}_resetInput(){this.input.value=""}_initLocalListeners(){this.todoList.addEventListener("input",(t=>{"editable"===t.target.className&&(this._temporaryTodoText=t.target.innerText)})),this.addTodo(),this.deleteTodo(),this.editTodo(),this.toggleTodo()}displayTodos(t){if(this.clear(),0===t.length){const t=this.createElement("p");t.textContent="Nada que hacer! Quieres Añadir una Tarea?",this.todoList.append(t)}else t.forEach((t=>{const e=this.createElement("li");e.id=t.id;const o=this.createInput("","","","checkbox");o.checked=t.complete;const s=this.createSpan("editable","true");if(t.complete){const e=this.createElement("s");e.textContent=t.text,s.append(e)}else s.textContent=t.text;const i=this.createButton("Eliminar","btn-"+t.id,"delete");e.append(o,s,i),this.todoList.append(e)}))}addTodo(){this.form.addEventListener("submit",(t=>{t.preventDefault(),this._todoText&&(this.todoListController.addTodo(new i.default("",this._todoText,!1)),this.displayTodos(this.todoListController.getTodoList()),this._resetInput())}))}deleteTodo(){this.todoList.addEventListener("click",(t=>{if("delete"===t.target.className){const e=t.target.parentElement.id;e&&(this.todoListController.deleteTodo(e),this.displayTodos(this.todoListController.getTodoList()))}}))}editTodo(){this.todoList.addEventListener("focusout",(t=>{if(this._temporaryTodoText){const e=t.target.parentElement.id;this.todoListController.editTodo(e,this._temporaryTodoText),this._temporaryTodoText="",this.displayTodos(this.todoListController.getTodoList())}}))}toggleTodo(){this.todoList.addEventListener("change",(t=>{if("checkbox"===t.target.type){const e=t.target.parentElement.id;this.todoListController.toggleTodoChange(e),this.displayTodos(this.todoListController.getTodoList())}}))}clear(){this.todoList.innerHTML=""}}}},e={};!function o(s){var i=e[s];if(void 0!==i)return i.exports;var d=e[s]={exports:{}};return t[s].call(d.exports,d,d.exports,o),d.exports}(859)})();